package com.klef.dev.entity;

import jakarta.persistence.*;
import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.Size;

@Entity
@Table(name = "project_table")
public class Project {

    public enum ProjectStatus {
        ONGOING, COMPLETED, ON_HOLD
    }

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "project_id")
    private Integer id;

    @NotBlank
    @Size(max = 100)
    @Column(name = "project_title", nullable = false, length = 100)
    private String title;

    @NotBlank
    @Size(max = 500)
    @Column(name = "project_description", nullable = false, length = 500)
    private String description;

    @NotBlank
    @Size(max = 255)
    @Column(name = "project_domain", nullable = false, length = 255)
    private String domain;

    @NotNull
    @Enumerated(EnumType.STRING)
    @Column(name = "project_status", nullable = false, length = 20)
    private ProjectStatus status;

    @NotBlank
    @Size(max = 50)
    @Column(name = "project_guide", nullable = false, length = 50)
    private String guide;

    // No-arg constructor (required by JPA)
    public Project() {}

    // All-args constructor
    public Project(String title, String description, String domain, ProjectStatus status, String guide) {
        this.title = title;
        this.description = description;
        this.domain = domain;
        this.status = status;
        this.guide = guide;
    }

    // Getters & Setters
    public Integer getId() { return id; }
    public void setId(Integer id) { this.id = id; }

    public String getTitle() { return title; }
    public void setTitle(String title) { this.title = title; }

    public String getDescription() { return description; }
    public void setDescription(String description) { this.description = description; }

    public String getDomain() { return domain; }
    public void setDomain(String domain) { this.domain = domain; }

    public ProjectStatus getStatus() { return status; }
    public void setStatus(ProjectStatus status) { this.status = status; }

    public String getGuide() { return guide; }
    public void setGuide(String guide) { this.guide = guide; }

    @Override
    public String toString() {
        return "Project [id=" + id + ", title=" + title + ", description=" + (description.length() > 50 ? description.substring(0, 50) + "..." : description)
                + ", domain=" + domain + ", status=" + status + ", guide=" + guide + "]";
    }
}
